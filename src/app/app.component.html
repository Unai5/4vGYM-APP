
<header>
    <app-header></app-header>
</header>

<section id="activities" class="mt-4">
    <div class="row">
        <!--Calendario a continuación: -->
        <div class="col-md-4 col-12">
            <app-calendar (dateChanged)="selectedDate = $event"></app-calendar>
        </div>
        

        <div class="col-md-5 col-12 mt-5 text-center">
            <!-- DatePicker con flechas para avanzar y retroceder días. -->
            <div class="row">
              <app-date-display [selectedDate]="selectedDate" (dateBack)="goBack()" (dateAdvance)="advance()"></app-date-display>
            </div>
            <!-- Bloques de actividades con ngFor y ngIf. -->
            <div class="row" *ngFor="let hourBlock of hourBlocks">
              <div class="col-2 mt-4">
                <div class="row">{{ hourBlock.start | date: 'shortTime' }}</div>
                <div class="row">{{ hourBlock.end | date: 'shortTime' }}</div>
              </div>
              <div class="col-9">
                <ng-container *ngIf="getActividadesEnHora(hourBlock.start, hourBlock.end).length > 0; else casillaVacia">
                  <app-casilla-actividad></app-casilla-actividad>
                </ng-container>
                <ng-template #casillaVacia>
                  <app-casilla-vacia></app-casilla-vacia>
                </ng-template>
              </div>
              <div class="col-1"></div>
            </div>
          </div>
          
          
        



        <!--Lo siguiente es el bloque de actividades de cada día.-->
        <!--<div class="col-md-5 col-12 mt- text-center">
            DatePicker con flechas para avanzar y retroceder días.
            <div class="row">
                <app-date-display [selectedDate]="selectedDate" 
                                    (dateBack)="goBack()" 
                                    (dateAdvance)="advance()">
                </app-date-display>
            </div>
            Bloque de 3 actividades.
            <div class="row">
                <div class="col-2 mt-4"><div class="row">10.00</div><div class="row">11.30</div></div>
                <div class="col-9"><app-casilla-actividad></app-casilla-actividad></div>
                <div class="col-1"></div>
            </div>
            <div class="row">
                <div class="col-2 mt-4"><div class="row">13.30</div><div class="row">15.00</div></div>
                <div class="col-9"><app-casilla-vacia></app-casilla-vacia></div>
                <div class="col-1"></div>
            </div>
            <div class="row">
                <div class="col-2 mt-4"><div class="row">17.30</div><div class="row">19.00</div></div>
                <div class="col-9"><app-casilla-actividad></app-casilla-actividad></div>
                <div class="col-1"></div>
            </div>

        </div>-->
        <div class="col-md-4"></div>
    </div>
</section>



<footer>
    <app-tabs id="footerTabs"></app-tabs>
</footer>
